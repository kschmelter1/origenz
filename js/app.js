!function(){function e(r,t,n){function s(o,a){if(!t[o]){if(!r[o]){var c="function"==typeof require&&require;if(!a&&c)return c(o,!0);if(i)return i(o,!0);var d=new Error("Cannot find module '"+o+"'");throw d.code="MODULE_NOT_FOUND",d}var g=t[o]={exports:{}};r[o][0].call(g.exports,function(e){var t=r[o][1][e];return s(t||e)},g,g.exports,e,r,t,n)}return t[o].exports}for(var i="function"==typeof require&&require,o=0;o<n.length;o++)s(n[o]);return s}return e}()({1:[function(e,r,t){function n(){function e(e,r){e.each(function(e){t(this).insertAfter(r[e])})}function r(r,n,s){var i=s||d,o=n||"",a=r.settings||[[86,96],[172,192],[15,10]],c=r.size||[.75,1.25],g=t(o+" "+r["class"]+".top.circle"),u=t(o+" "+r["class"]+".bottom.circle"),p=t(o+" "+r["class"]+".top.line"),l=t(o+" "+r["class"]+".bottom.line"),h=new TimelineMax({repeat:-1,yoyo:!1});return h.add("middle-1").to(g,i,{x:a[0][0],xPercent:a[0][1],scale:c[0],transformOrigin:"center",ease:Power1.easeIn},"middle-1").to(u,i,{x:a[0][0]*-1,xPercent:a[0][1]*-1,scale:c[1],transformOrigin:"center",ease:Power1.easeIn},"middle-1").to(p,i,{scaleX:0,transformOrigin:"right",ease:Power1.easeIn},"middle-1").to(l,i,{scaleX:0,transformOrigin:"left",ease:Power1.easeIn},"middle-1").call(e,[p,l]).add("extend-1").to(g,i,{x:a[1][0],xPercent:a[1][1],scale:1,transformOrigin:"center",ease:Power1.easeOut,z:"100rem"},"extend-1").to(u,i,{x:a[1][0]*-1,xPercent:a[1][1]*-1,scale:1,transformOrigin:"center",ease:Power1.easeOut,z:"50rem"},"extend-1").to(p,i,{scaleX:1.2,x:a[2][0]*-1,transformOrigin:"left",ease:Power1.easeOut},"extend-1").to(l,i,{scaleX:1.2,x:a[2][0],transformOrigin:"right",ease:Power1.easeOut},"extend-1").call(e,[g,u]).add("middle-2").to(g,i,{x:a[0][0],xPercent:a[0][1],scale:c[1],transformOrigin:"center",ease:Power1.easeIn},"middle-2").to(u,i,{x:a[0][0]*-1,xPercent:a[0][1]*-1,scale:c[0],transformOrigin:"center",ease:Power1.easeIn},"middle-2").to(p,i,{scaleX:0,x:0,transformOrigin:"left",ease:Power1.easeIn},"middle-2").to(l,i,{scaleX:0,x:a[2][2],transformOrigin:"right",ease:Power1.easeIn},"middle-2").call(e,[l,p]).add("extend-2").to(g,i,{x:0,xPercent:0,scale:1,transformOrigin:"center",ease:Power1.easeOut},"extend-2").to(u,i,{x:0,xPercent:0,scale:1,transformOrigin:"center",ease:Power1.easeOut},"extend-2").to(p,i,{scaleX:1.2,x:0,transformOrigin:"right",ease:Power1.easeOut},"extend-2").to(l,i,{scaleX:1.2,x:0,transformOrigin:"left",ease:Power1.easeOut},"extend-2").call(e,[u,g]),h}var t=jQuery.noConflict();if(t(".dna")){var n={"class":".dna-1",settings:[[96,106],[242,152],[20,15,5]],size:[.65,1.35]},s={"class":".dna-2",settings:[[86,96],[172,192],[20,15,5]],size:[.75,1.25]},i={"class":".dna-3",settings:[[63,68],[120,160],[15,8,5]],size:[.85,1.15]},o={"class":".dna-4",settings:[[43,48],[72,92],[15,8,5]],size:[.95,1.05]};const a=new TimelineMax;TweenLite.defaultEase=Linear.easeNone;const c="-=4.7";var d=1.25;a.add(r(s,".one")).add(r(i,".two"),c).add(r(o,".three"),c).add(r(i,".four"),c).add(r(s,".five"),c).add(r(n,".six"),c).add(r(s,".seven"),c).add(r(i,".eight"),c).add(r(o,".nine"),c).add(r(i,".ten"),c).add(r(s,".eleven"),c)}}!function(e){if(e(".block-hero .swiper-container .swiper-slide").length>1){new Swiper(".block-hero .swiper-container",{loop:!0,slidesPerView:1,centeredSlides:!0,pagination:{el:".block-hero .swiper-pagination",type:"bullets",clickable:!0},watchOverflow:!0})}e(".block-hero .swiper-container .swiper-slide").length,e(document).ready(function(){n()})}(jQuery),function(e){function r(){e(".product-mockup-wrapper").each(function(){var r=e(this),t=r.width(),n=r.data(),s=n.templateDimensions.split(","),i=n.printAreaDimensions.split(","),o=n.printAreaOffset.split(","),a=o[0]/s[0],c=o[1]/s[1],d=i[0]/s[0],g=i[1]/s[1],u=s[1]/s[0],p=r.find(".product-mockup-template"),l=r.find(".product-mockup-design"),h={width:t,height:t*u},f={left:h.width*a,top:h.height*c,width:h.width*d,height:h.height*g},m={height:h.height};p.css(h),l.css(f),r.css(m)})}function t(){if(console.log("updateMockup",s),s&&origenzVariationTemplateData[s]){var t=e(".input-border-color:checked").val();t||(t="black"),console.log("templates",origenzVariationTemplateData[s]),console.log("color",t),e(".product-mockup-wrapper").replaceWith(origenzVariationTemplateData[s][t]),r()}}e(".product-mockup-wrapper").length&&(e(window).resize(_.throttle(r,100)),r());var n=e("form.variations_form");if(n.length){var s=!1;n.on("found_variation",function(e,r){console.log("variation changed",r),s=r.variation_id,t()}),e(".input-border-color").click(function(){t()})}}(jQuery),function(e){if(document.getElementById("design-app")){if(!origenzAppData.designState||!origenzAppData.designState.step||!origenzAppData.designState.dnaProcessedBy){var r=sessionStorage.getItem("designState");if(r)try{origenzAppData.designState=JSON.parse(r)}catch(t){console.log("Invalid JSON in session storage.")}}var s=[{errors:[],region:"",percent:0,countries:[{errors:[],country:"",percent:0}]},{errors:[],region:"",percent:0,countries:[{errors:[],country:"",percent:0}]},{errors:[],region:"",percent:0,countries:[{errors:[],country:"",percent:0}]},{errors:[],region:"",percent:0,countries:[{errors:[],country:"",percent:0}]}],i=3==origenzAppData.designState.step?3:1;console.log(i);new Vue({el:"#design-app",data:{step:i,errors:[],regions:origenzAppData.designState.regions?origenzAppData.designState.regions:s,designImages:[],appData:origenzAppData,dnaProcessedBy:origenzAppData.designState.dnaProcessedBy?origenzAppData.designState.dnaProcessedBy:"",shape:origenzAppData.designState.shape?origenzAppData.designState.shape:"",loading:!1},computed:{showRegionsSection:function(){return this.dnaProcessedBy&&"Somewhere else"!=this.dnaProcessedBy},countrySectionBulletNumber:function(){return"Somewhere else"==this.dnaProcessedBy?"2":"3"},totalCountries:function(){var e=0;for(var r in this.regions)e+=this.regions[r].countries.length;return e},regionListByGroup:function(){var e=[];if(""!=this.dnaProcessedBy){var r="",t=this.appData.regions[this.dnaProcessedBy];for(var n in t){var s=t[n];s.group!=r&&e.push({group:s.group,regions:[]}),e[e.length-1].regions.push(s),r=s.group}}return console.log(e),e},chosenDesign:function(){var e=[];for(var r in this.regions)for(var t in this.regions[r].countries)e.push(this.regions[r].countries[t].country);return e.join(" / ")+" "+this.shape}},watch:{dnaProcessedBy:function(e,r){this.resetRegions()},step:function(r,t){if(1==r)this.$nextTick(function(){n()});else if(2==r){if(console.log("load design images"),this.loading)return;var s=this;this.loading=!0;var i=JSON.stringify({step:this.step,dnaProcessedBy:this.dnaProcessedBy,regions:this.regions,shape:this.shape});sessionStorage.setItem("designState",i),e.post(this.appData.ajaxUrl,{action:"save_design_state",designState:i},function(e){var r=[];for(var t in s.appData.shapes)r.push({shape:s.appData.shapes[t],url:s.getDesignImageUrl(s.appData.shapes[t])});s.designImages=r,s.loading=!1})}}},methods:{round:function(e,r){return Math.round(e*Math.pow(10,r))/Math.pow(10,r)},getDesignImageUrl:function(e){var r=[];for(var t in this.regions)for(var n in this.regions[t].countries)r.push(this.regions[t].countries[n]);var s={shape:e,countries:r};return this.appData.siteUrl+"/flag-preview/?nonce="+this.appData.flagPreviewNonce+"&data="+encodeURI(JSON.stringify(s))},addRegion:function(e){this.regions.push({errors:[],region:"Somewhere else"==this.dnaProcessedBy?"All Regions":"",percent:0,countries:[{errors:[],country:"",percent:0}]})},removeRegion:function(e){this.regions.splice(e,1)},addCountry:function(e){this.regions[e].countries.push({errors:[],country:"",percent:0})},removeCountry:function(e,r){this.regions[e].countries.splice(r,1)},getCountriesInRegion:function(e){if(""!=this.dnaProcessedBy){var r=this.appData.regions[this.dnaProcessedBy];for(var t in r){var n=r[t];if(n.name==e)return n.countries}}return[]},isCountrySelectedInRegion:function(e,r,t){for(var n in this.regions[t].countries)if(n!=r&&this.regions[t].countries[n].country==e)return!0;return!1},setShape:function(e){this.shape=e},goToStep:function(e){this.loading||(this.step=e)},resetRegions:function(){this.regions.splice(0,this.regions.length);for(var e="Somewhere else"==this.dnaProcessedBy?1:4,r=1;r<=e;r++)this.addRegion();if("Somewhere else"==this.dnaProcessedBy)for(var r=1;r<=3;r++)this.addCountry(0)},regionPercentChanged:function(e){var r=this.regions[e].percent,t=this.regions[e].countries.length,n=this.round(r/t,2);_.each(this.regions[e].countries,function(e){e.percent=n})},validateStep:function(e){if(1==e){var r=0,t=0,n=!1;for(var s in this.regions)if(this.regions[s].errors=[],""==this.regions[s].region)this.regions[s].errors.push("Please select a region."),n=!0;else for(var i in this.regions[s].countries)this.regions[s].countries[i].errors=[],""==this.regions[s].countries[i].country?(this.regions[s].countries[i].errors.push("Please select a country."),n=!0):(r++,t+=this.regions[s].countries[i].percent);this.errors=[],100!=t&&(this.errors.push("Please make sure your percentages equal 100%.  They currently add up to "+t+"%."),n=!0),n||(this.step=2)}else if(2==e&&(this.errors=[],""==this.shape&&this.errors.push("Please select a design."),0==this.errors.length)){var o=document.createElement("form");o.method="post",o.action="/designer/";var a=document.createElement("input");a.type="hidden",a.name="designState",a.value=JSON.stringify({step:3,regions:this.regions,shape:this.shape,dnaProcessedBy:this.dnaProcessedBy}),o.appendChild(a),sessionStorage.setItem("designState",a.value),document.body.appendChild(o),o.submit()}}}});document.getElementById("design-app").classList.add("ready"),window.onorientationchange=function(){window.location.reload()}}}(jQuery)},{}]},{},[1]);